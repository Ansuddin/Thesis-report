\section{Information Privacy and Protection}

With GDPR becoming effective in 2018, the focus on information privacy is at its peak. 
Privacy violation is when sensitive information is exposed to an unauthorized actor; like how Cambridge Analytica was able to gain sensitive information about Facebook users without their permission or when sensitive information about halv a million Google Plus users was leaked \cite{cwe} \cite{googleplus} \cite{cambridge}. Both information leaks were due to insecure implementation of API's. These cases have made people more aware of how application deals with information. Unsurprisingly OWASP top ten ranks \emph{sensitive data exposure} as the third biggest security threat\cite{owasp}. 

The mentioned cases failed to achieve \emph{end-to-end security}; assurance of \emph{confidentiality} and \emph{integrity} throughout the system \cite{Sabelfeld2003}. The improper handling of sensitive information could have been prevented with appropriate security policies and enforcement technique that enforces these policies.



\section{Information-Flow Control} 
\emph{Secure information flow} means that only authorized flow of information is allowed \cite{Denning1976}. Secure information flow in a system guarantees confidentiality and integrity of information throughout the system \cite{Hedin2011}. Consider the following insecure flow with variables holding \emph{public} and \emph{secret} information: 

\begin{lstlisting}
public = secret;
\end{lstlisting}

Here the secret information is leaked by directly assigning it to a publicly observable variable. This is an example of \emph{explicit flow} of information \cite{Hedin2011}. Information-Flow Control can prevent such flows by allowing the programmer to define and enforce policies in a language-based way\cite{Sabelfeld2003}. 

The security enforcement mechanisms such as firewalls, encryption and access control all protect confidential information but is unable to control how the information flows:

\begin{itemize}
	\item \emph{Access control} prevents unauthorized access to information but once access is granted there is no guarantee how that confidential information is handled.
	\item \emph{Firewall} limits communication from the outside hence isolate and protect information. Yet the firewall have no way of telling if the communication going through violates confidentiality.
	\item \emph{Encryption} secures information on a channel with only the endpoints being able to access that information. However there is no assurance that once the data is decrypted that the confidentiality of that information is ensured.
\end{itemize}

These are all useful mechanisms but fall short in terms of end-to-end security. 


\section{Matrix}\label{matrix:intro}
Matrix provides an encryption mechanism for secure messaging and synchronizing data over HTTP. Matrix is an open standard protocol that enables secure decentralized communication over a \emph{federation} of servers. The secure communication is provided by an end-to-end encryption mechanism ensuring confidentiality and integrity of information while it is stored at the servers and is at transit. However as mentioned earlier it cannot control the flow of information and is vulnerable to leaks at the endpoints.

\subparagraph{Why Matrix?}
The fragmentation of IP communication is the problem Matrix essentially wants to solve. Making calls and messages between users needless of which app they use. However they define their longer term goal as \emph{"to act as a generic HTTP messaging and data synchronisation protocol for the whole web"}\cite{matrixfaq}.

In the Digital Strategy 2016-2020 the Danish Agency of Digitisation defines initiative 7.2 as \emph{"Common standards for secure exchange of information"}. The large number of software systems in the Danish public sector has created a need for an uniform way of exchanging data across different application in a secure manner\cite{TheGovernment2016}. 

The initiative has similarities to the issue Matrix is trying to solve with fragmented IP communication. With Matrix security guarantees and their long term goal as a generic HTTP messaging protocol there is a strong case for using Matrix as a communication channel in this case study.


\section{The Case Study}

The goal of the case study is to make a prototype secure implementation of a distributed medical journal system, using a combination of Matrix and IFC. We will use a protocol called \emph{Matrix} as the communication channel and strengthen the security at the endpoints using Information-Flow Control.


\subsection{Journal System}\label{journalintro}

Medical privacy is a well-known issue\cite{Rahim2013}. Sensitive data about patients needs to be handled carefully. In Denmark patients have access to their medical records through E-journal\cite{ejournal}. A patient's journal on E-journal is available for up to 90.000 different medical employees\cite{JP90000}. 

There are clear policies about who should access a journal and under what conditions . It is legally required that an employee accessing the journal must have the patient in care and that the lookup must be relevant for the employee. Safety measures have been applied through logging and audit trails with random sampling checks. However they do not prevent access to journals; any medical employee can access the patient journal and even if prevention mechanism were established there would be no limitation to what a medical employee could see once access was granted \cite{adgang}\cite{kontrol}. 

The mechanisms in the current journal system might restrain malicious intent. However it does not guarantee prevention of unintentional access or disclosure of information\cite{Harman2012}. 
What is missing is the enforcement of secure information flow policies. Unintentional access or disclosure of information can be prevented by enforcing policies that define secure information flow.


\subsection{Objectives} 
The objective of the project is to do a secure implementation of the prototype inspired by the Danish journal systems. Secure exchange of patient journals is ensured using Matrix and the endpoints are secured using IFC.

A successful project is one that fulfills these criteria: 

\begin{itemize}
	\item Evaluation of Matrix security model
	\item Survey of IFC tools and selection of tool.
	\item Implement a prototype distributed system running on Matrix, using the chosen tools
	\item Demonstrate increased security guarantee with Matrix and IFC
\end{itemize}   

\section{Method}
The research method used is a case study. A case study allow us investigate 
the how and why of a case \cite{yin}. By investigating the following we can achieve the objectives described previously:

\begin{itemize}
	\item Why there exist a shortcoming in the Matrix security model.
	\item What it takes to improve the security guarantee of Matrix. 
	\item How the security guarantees can be improved using the Information-Flow Contol tool Paragon.
\end{itemize}


\section{Contribution} %end-to-end security

The thesis contributes with an interface created between the Information-Flow Control language Paragon and the secure communication protocol Matrix. The contribution enables developing other secure applications on top of the Matrix protocol. Another contribution is the findings of secure implementation using Paragon.

 
 
\section{Structure of thesis} % her kan nævnes den antagelse gøres 

Chapter \ref{background} sets the foundation for the thesis and introduces relevant information and background. Chapters \ref{analysis} analyzes the Matrix security model and survey IFC tools. Chapter \ref{design} goes in depth with design of the solution. The results are then presented and discussed in Chapter \ref{results}. The thesis is wrapped up in the conclusion section Chapter 6. 
 
\section{Summary}
This section introduces the scope of the thesis and what is expected of the thesis. We achieve end-to-end security through secure information flow. Information-Flow Control is a mechanism for enforcing secure information policies in a system. The objective of the thesis is to evaluate the security model of Matrix, survey and select an Information-Flow Control tools, implement a prototype using the tool and demonstrate the improvements to the Matrix security model. 
